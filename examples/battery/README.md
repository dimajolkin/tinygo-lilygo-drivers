# Батарея на T-Deck: заряд в %, напряжение, индикация зарядки

Пример для LilyGo T-Deck (ESP32-S3): на экране выводятся заряд батареи в процентах, напряжение и полоска уровня. Режим зарядки определяется по напряжению (V > 3.75 В) — отдельного пина статуса зарядки на T-Deck нет.

- **ADC**: GPIO4 (напряжение через делитель, типично 2:1).
- **LiPo**: 1400 mAh. 3.0 В = 0%, 3.7 В = 100% (разряд); при зарядке 3.7–4.2 В = 0–100% прогресса. Константы `vBatEmptyMV`, `vBatFullMV`, `vBatChargedMV`, `dividerRatio` в `main.go` можно подстроить под свой делитель.

Сборка:

```bash
tinygo build -target=esp32-s3 -o firmware.uf2 .
```

Прошивка: скопировать `firmware.uf2` на диск устройства в режиме bootloader.
